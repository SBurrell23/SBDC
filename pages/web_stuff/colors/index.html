
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Colors</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <div style="position:fixed; top:12px; left:12px; background-color:black;"><button id="newCircles">Create New</button></div>
  </head>
  <body>
  	 <canvas id="canvas"></canvas>
  </body>
</html>

<script type="text/javascript">
$(document).ready(function(){

	$(window).resize(function(){
		draw();
	}); draw();

    $("#newCircles").click(function(){
        draw();
    }); 

	function draw()
	{
		var ctx = document.getElementById("canvas").getContext("2d");
		ctx.canvas.height = window.innerHeight - 20;
		ctx.canvas.width  = window.innerWidth - 20;
		var height = 10;
		var width = 10;

		var doTwice = 0;
		while(doTwice != 2)
		{
			for (var i = height; i < ctx.canvas.height; i+=20)
			{
				for (var j = width; j < ctx.canvas.width; j+=20)
				{
					width = getRandomNumber(10,100);
					height = getRandomNumber(10,100);
					vertOffset = getRandomNumber(-120,120);
					horOffset = getRandomNumber(-120,120);
					drawSquare(ctx, j + vertOffset, i + horOffset, width, height, getRandomColor(), getRandomColor());
				}
			}
			doTwice++;
		}
	}

	function drawSquare(ctx, x, y, width, height, color, color2)
	{
		ctx.fillStyle = color;
		ctx.beginPath();
		ctx.arc(x,y, width/2, 0, 2*Math.PI);
		ctx.lineWidth = getRandomNumber(3,25);
		ctx.strokeStyle = color2;
		ctx.stroke();
		ctx.fill();
	}

	function getRandomColor() 
	{
	    var letters = '0123456789ABCDEF', color = '#';
	    for (var i = 0; i < 6; i++ ) 
	        color += letters[Math.floor(Math.random() * 16)];
	    return color;
	}

	function getRandomNumber(min,max)
	{
		 return Math.random() * (max - min) + min;
	}
});
</script>